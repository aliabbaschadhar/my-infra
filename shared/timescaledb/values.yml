replicaCount: 1
fullnameOverride: "timescaledb"

image:
  repository: timescale/timescaledb-ha
  tag: pg15-ts2.13.0
  pullPolicy: IfNotPresent

secrets:
  credentialsSecretName: "timescaledb-secret"
  credentials: {} # Disable auto-generated secrets since we use vault

backup:
  enabled: false

# Post initialization scripts for creating databases and users
postInit:
  - configMap:
      name: timescaledb-init-scripts
      optional: false

service:
  primary:
    type: ClusterIP
    port: 5432
    annotations: {}
    labels:
      app: timescaledb

# Storage configuration
persistentVolumes:
  data:
    enabled: true
    size: 6Gi
    storageClass: do-block-storage
    accessModes:
      - ReadWriteOnce
    annotations: {}

# Resources limit
resources:
  requests:
    cpu: 500m
    memory: 1Gi
  limits:
    cpu: 2000m
    memory: 2Gi

podAnnotations: {} # Annotations = extra key-value metadata (like sticky notes) for tools/controllers.
# They don’t affect scheduling, but can be used by things like Prometheus, ingress controllers, or cloud providers.
podLabels:
  app: timescaledb

# Node selection (optional)
nodeSelector: {} # To place specific applications on specific nodes ( this could cause single node failure.)
tolerations: []
# Tolerations = allow pods to run on nodes with specific taints.
# Think of nodes as buses: if a bus says “VIP only” (taint),
# only passengers with a VIP pass (toleration) can ride it.

affinity: {} # To keep specific pods close to each other

serviceAccount:
  create: true
  name: timescaledb
  annotations: {}
